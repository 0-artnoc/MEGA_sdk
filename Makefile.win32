CXX=g++
CFLAGS=-DUSE_SQLITE -DUSE_CRYPTOPP -g -Wall -I. -Iinclude/ -Iinclude/mega/ -Iwin32 -Idb -isystem ../cryptopp -isystem ../db/build_windows -isystem ../FreeImage/Dist -isystem ../sqlite3 -isystem ..
LIB=-lwinhttp -lws2_32 -L../cryptopp -lcryptopp -L../FreeImage/Dist -lfreeimage -L../readline -lreadline -L../termcap -ltermcap -L../db/build_windows
LDFLAGS=
SOURCES=examples/megacli.cpp src/megaclient.cpp src/crypto/cryptopp.cpp src/win32/fs.cpp src/win32/console.cpp src/win32/net.cpp src/win32/wait.cpp src/db/sqlite.cpp ../sqlite3/sqlite3.o
OBJECTS=$(SOURCES:.cpp=.o)
PROGS=megacli

all: $(PROGS)

megacli: $(OBJECTS)
	$(CXX) $(CFLAGS) $(LDFLAGS) $^ -o $@ $(LIB)

.cpp.o:
	$(CXX) -c $(CFLAGS) $< -o $@

clean:
	rm $(OBJECTS) $(PROGS) $(PROGS:=.o)
